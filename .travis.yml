language: node_js

os:
  - "linux"
  - "osx"

node_js:
  - "0.12"
  - "0.11"
  - "0.10"
  - "6.1"
  - "5.11"
  - "4.4"

services:
  - elasticsearch
  - rabbitmq

before_install:
  - "export NODE_ENV=test"
  - "npm config set strict-ssl false"
  - "npm install -g chai istanbul jsdoc mocha babel-register"

before_script:
  - "sleep 10"

install:
    - wget http://packages.couchbase.com/releases/4.1.0/couchbase-server-community_4.1.0-ubuntu14.04_amd64.deb
    - dpkg -i couchbase-server-community_4.1.0-ubuntu14.04_amd64.deb
    - ./.travis/install.sh
    - npm install
    - ./bin/microcrawler config init

